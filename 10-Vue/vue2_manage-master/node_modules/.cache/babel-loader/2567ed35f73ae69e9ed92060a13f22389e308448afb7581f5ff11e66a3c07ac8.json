{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// Tag来源于store的tabList\n// 需要设置Tag的点击跳转、删除功能\nexport default {\n  name: 'CommonTag',\n  data() {\n    return {};\n  },\n  computed: {\n    // 获得tabsList\n    isTablist() {\n      console.log(this.$store.state.tab.tabsList, 'isTablist22');\n      return this.$store.state.tab.tabsList;\n    }\n  },\n  methods: {\n    // tag的跳转\n    changeMenu(item) {\n      console.log(this.$route.path); // 表示当前路由，比如从A跳到B页面，那么当前路由是A\n      console.log('item', item); // 点击菜单获取当前路由的信息\n\n      // 实现路由的跳转\n      this.$router.push(item.name);\n    },\n    // 点击tag的删除  item：当前的数据， index:当前tag的索引，这里的索引和tabList长度对应\n    handleClose(item, index) {\n      // 调用store中的mutation，通过commit\n      this.$store.commit('closeTag', item);\n      //   删除后的长度\n      const length = this.isTablist.length;\n      console.log(index, 'fhsdjkfhjk');\n      // 删除之后的跳转逻辑\n      // 1.删除的非激活状态的tag，即点击删除的页面和当前显示的不同，则不用跳转\n      if (item.name !== this.$route.name) {\n        return;\n      }\n      // 2. 删除的是最后一项，则tag会向前一个移动\n      if (index === length) {\n        this.$router.push(this.isTablist[index - 1].name);\n      }\n      // 3.删除的是中间的一项，则tag会向后一个跳转\n      else {\n        this.$router.push(this.isTablist[index].name);\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","computed","isTablist","console","log","$store","state","tab","tabsList","methods","changeMenu","item","$route","path","$router","push","handleClose","index","commit","length"],"sources":["src/components/CommonTag.vue"],"sourcesContent":["<template>\n  <div class=\"tab\">\n    <!-- <span class=\"tag-group__title\">Dark</span> -->\n    <!-- 判断当前路由的name是否等于点击的item的name一致，一致的话就显示高亮 -->\n    <!-- 如果那么是home则不设置关闭 -->\n    <!-- el-tag有两个事件，click是点击 Tag 时触发的事件，close是关闭 Tag 时触发的事件 -->\n    <el-tag v-for=\"(item, index) in isTablist\"\n            :key=\"item.path\"\n            @click=\"changeMenu(item)\"\n            @close=\"handleClose(item, index)\"\n            :closable=\"item.name !== 'home'\"\n            size=\" small \"\n            :effect=\"$route.name === item.name ? 'dark':'plain'\"\n            style=\"margin-right: 10px;text-align: center;\">\n      {{ item.label }}\n    </el-tag>\n\n  </div>\n</template>\n\n<script>\n\n\n// Tag来源于store的tabList\n// 需要设置Tag的点击跳转、删除功能\nexport default {\n  name: 'CommonTag',\n  data () {\n    return {\n\n    }\n  },\n  computed: {\n    // 获得tabsList\n    isTablist () {\n      console.log(this.$store.state.tab.tabsList, 'isTablist22');\n      return this.$store.state.tab.tabsList\n    },\n\n\n\n  },\n  methods: {\n    // tag的跳转\n    changeMenu (item) {\n      console.log(this.$route.path); // 表示当前路由，比如从A跳到B页面，那么当前路由是A\n      console.log('item', item); // 点击菜单获取当前路由的信息\n\n      // 实现路由的跳转\n      this.$router.push(item.name)\n\n\n    },\n\n    // 点击tag的删除  item：当前的数据， index:当前tag的索引，这里的索引和tabList长度对应\n    handleClose (item, index) {\n      // 调用store中的mutation，通过commit\n      this.$store.commit('closeTag', item)\n      //   删除后的长度\n      const length = this.isTablist.length\n      console.log(index, 'fhsdjkfhjk');\n      // 删除之后的跳转逻辑\n      // 1.删除的非激活状态的tag，即点击删除的页面和当前显示的不同，则不用跳转\n      if (item.name !== this.$route.name) {\n        return\n      }\n      // 2. 删除的是最后一项，则tag会向前一个移动\n      if (index === length) {\n        this.$router.push(this.isTablist[index - 1].name)\n      }\n      // 3.删除的是中间的一项，则tag会向后一个跳转\n      else {\n        this.$router.push(this.isTablist[index].name)\n      }\n    }\n\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n</style>"],"mappings":";AAuBA;AACA;AACA;EACAA,IAAA;EACAC,KAAA;IACA,QAEA;EACA;EACAC,QAAA;IACA;IACAC,UAAA;MACAC,OAAA,CAAAC,GAAA,MAAAC,MAAA,CAAAC,KAAA,CAAAC,GAAA,CAAAC,QAAA;MACA,YAAAH,MAAA,CAAAC,KAAA,CAAAC,GAAA,CAAAC,QAAA;IACA;EAIA;EACAC,OAAA;IACA;IACAC,WAAAC,IAAA;MACAR,OAAA,CAAAC,GAAA,MAAAQ,MAAA,CAAAC,IAAA;MACAV,OAAA,CAAAC,GAAA,SAAAO,IAAA;;MAEA;MACA,KAAAG,OAAA,CAAAC,IAAA,CAAAJ,IAAA,CAAAZ,IAAA;IAGA;IAEA;IACAiB,YAAAL,IAAA,EAAAM,KAAA;MACA;MACA,KAAAZ,MAAA,CAAAa,MAAA,aAAAP,IAAA;MACA;MACA,MAAAQ,MAAA,QAAAjB,SAAA,CAAAiB,MAAA;MACAhB,OAAA,CAAAC,GAAA,CAAAa,KAAA;MACA;MACA;MACA,IAAAN,IAAA,CAAAZ,IAAA,UAAAa,MAAA,CAAAb,IAAA;QACA;MACA;MACA;MACA,IAAAkB,KAAA,KAAAE,MAAA;QACA,KAAAL,OAAA,CAAAC,IAAA,MAAAb,SAAA,CAAAe,KAAA,MAAAlB,IAAA;MACA;MACA;MAAA,KACA;QACA,KAAAe,OAAA,CAAAC,IAAA,MAAAb,SAAA,CAAAe,KAAA,EAAAlB,IAAA;MACA;IACA;EAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}